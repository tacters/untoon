!function(n){"use strict";var e={};function t(){!function(){var e=n(".edgtf-listing-single-holder"),a=n(".edgtf-enquiry-holder");if(a.length){var t=e.find(".edgtf-enquiry-opener"),s=a.find(".edgtf-enquiry-form"),r=a.find(".edgtf-enquiry-close"),i=a.find(".edgtf-enquiry-response");t.on("click",function(){a.fadeIn(300).addClass("edgtf-opened")}),r.on("click",function(e){e.preventDefault(),a.fadeOut(300).removeClass("edgtf-opened")}),n(window).on("keyup",function(e){a.hasClass("edgtf-opened")&&27===e.keyCode&&a.fadeOut(300).removeClass("edgtf-opened")}),s.on("submit",function(e){e.preventDefault(),i.empty().html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var t={name:s.find("#edgtf-enquiry-name").val(),email:s.find("#edgtf-enquiry-email").val(),message:s.find("#edgtf-enquiry-message").val(),itemID:s.find("#edgtf-enquiry-item-id").val(),nonce:s.find("#urbango_listing_nonce_listing_item_enquiry_form").val()},r={action:"urbango_listing_send_listing_item_enquiry",enquiryData:t};n.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:r,success:function(e){var t=JSON.parse(e);"success"===t.status?(i.html(t.message),setTimeout(function(){a.fadeOut(300).removeClass("edgtf-opened")},800)):i.html(t.message)}})})}}()}(edgtf.modules.enquiry=e).edgtfOnDocumentReady=t,n(document).ready(t)}(jQuery);var j=jQuery.noConflict();function CustomMarker(e){this.latlng=new google.maps.LatLng({lat:e.position.lat,lng:e.position.lng}),this.setMap(e.map),this.templateData=e.templateData,this.markerData={termIcon:e.termIcon}}function MarkerClusterer(e,t,r){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var a=r||{};this.gridSize_=a.gridSize||60,this.minClusterSize_=a.minimumClusterSize||2,this.maxZoom_=a.maxZoom||null,this.styles_=a.styles||[],this.imagePath_=a.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=a.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=a.zoomOnClick&&(this.zoomOnClick_=a.zoomOnClick),this.averageCenter_=!1,null!=a.averageCenter&&(this.averageCenter_=a.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var s=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=s.map_.getZoom(),t=s.map_.minZoom||0,r=Math.min(s.map_.maxZoom||100,s.map_.mapTypes[s.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),r),s.prevZoom_!=e&&(s.prevZoom_=e,s.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){s.redraw()}),t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,r){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=r||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}"object"==typeof google&&(CustomMarker.prototype=new google.maps.OverlayView),CustomMarker.prototype.draw=function(){var e=this.div;if(!e){e=this.div=document.createElement("div");var t=this.templateData.itemId;e.className="edgtf-map-marker-holder",e.setAttribute("id",t),e.setAttribute("data-latlng",this.latlng);var r=_.template(j(".edgtf-info-window-template").html());r=r(this.templateData);var a=_.template(j(".edgtf-marker-template").html());a=a(this.markerData),j(e).append(r),j(e).append(a),e.style.position="absolute",e.style.cursor="pointer",this.getPanes().overlayImage.appendChild(e)}var s=this.getProjection().fromLatLngToDivPixel(this.latlng);s&&(e.style.left=s.x+"px",e.style.top=s.y+"px")},CustomMarker.prototype.remove=function(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)},CustomMarker.prototype.getPosition=function(){return this.latlng},function(f){"use strict";var s={};function e(){f("#edgtf-listing-multiple-map-holder").length&&edgtf.modules.listingMaps.edgtfGoogleMaps.getDirectoryItemsAddresses({mapHolder:"edgtf-listing-multiple-map-holder",hasFilter:!0})}function t(){var e=f(".edgtf-listing-view-larger-map a"),t=e.children("i"),r=f(".edgtf-map-holder");e.length&&e.on("click",function(e){e.preventDefault(),r.hasClass("edgtf-fullscreen-map")?(r.removeClass("edgtf-fullscreen-map"),t.removeClass("icon-basic-magnifier-minus"),t.addClass("icon-basic-magnifier-plus")):(r.addClass("edgtf-fullscreen-map"),t.removeClass("icon-basic-magnifier-plus"),t.addClass("icon-basic-magnifier-minus")),edgtf.modules.listingMaps.edgtfGoogleMaps.getDirectoryItemsAddresses()})}function a(){var e=f(".edgtf-map-list-holder");e.length&&e.each(function(){var e=f(this),t=e.find("article");e.find(".edgtf-map-list-map-part").length&&t.each(function(){var a=f(this);a.hasClass("edgtf-init")||(a.mouseenter(function(){var r=a.data("id"),e=f(".edgtf-map-marker-holder:not(.edgtf-map-active)"),t=f(".edgtf-cluster-marker");e.length&&(e.removeClass("edgtf-active"),f("#"+r+".edgtf-map-marker-holder").addClass("edgtf-active")),t.length&&t.each(function(){var e=f(this),t=e.data("item-ids");void 0!==t&&t.includes(r.toString())&&e.addClass("edgtf-active")})}).mouseleave(function(){var e=f(".edgtf-map-marker-holder"),t=f(".edgtf-cluster-marker");e.length&&e.each(function(){var e=f(this);e.hasClass("edgtf-map-active")||e.removeClass("edgtf-active")}),t.length&&t.removeClass("edgtf-active")}),a.addClass("edgtf-init"))})})}(edgtf.modules.listingMaps=s).edgtfInitMultipleListingMap=e,s.edgtfInitMobileMap=t,s.edgtfReinitMultipleGoogleMaps=function(e,t){if("append"===t){var r=edgtfMultipleMapVars.multiple.addresses.concat(e);edgtfMultipleMapVars.multiple.addresses=r,edgtf.modules.listingMaps.edgtfGoogleMaps.getDirectoryItemsAddresses({addresses:r})}else"replace"===t&&(edgtfMultipleMapVars.multiple.addresses=e,edgtf.modules.listingMaps.edgtfGoogleMaps.getDirectoryItemsAddresses({addresses:e}));a()},s.edgtfGoogleMaps={},f(window).load(function(){e(),t(),a()}),s.edgtfGoogleMaps={mapHolder:{},map:{},markers:{},radius:{},circle:{},getDirectoryItemAddress:function(e){var t={location:edgtfSingleMapVars.single.currentListing.location,zoom:16,mapHolder:"",draggable:edgtfMapsVars.global.draggable,mapTypeControl:edgtfMapsVars.global.mapTypeControl,scrollwheel:edgtfMapsVars.global.scrollable,streetViewControl:edgtfMapsVars.global.streetViewControl,zoomControl:edgtfMapsVars.global.zoomControl,title:edgtfSingleMapVars.single.currentListing.title,itemId:edgtfSingleMapVars.single.currentListing.itemId,content:"",styles:edgtfMapsVars.global.mapStyle,termIcon:edgtfSingleMapVars.single.currentListing.termIcon,featuredImage:edgtfSingleMapVars.single.currentListing.featuredImage,itemUrl:edgtfSingleMapVars.single.currentListing.itemUrl},r=f.extend({},t,e);this.mapHolder=r.mapHolder;var a=document.getElementById(r.mapHolder),s=new google.maps.Map(a,{zoom:r.zoom,draggable:r.draggable,mapTypeControl:r.mapTypeControl,scrollwheel:r.scrollwheel,streetViewControl:r.streetViewControl,zoomControl:r.zoomControl});if(s.setOptions({styles:r.styles}),void 0!==r.location&&null!==r.location){var i={lat:parseFloat(r.location.latitude),lng:parseFloat(r.location.longitude)};s.setCenter(i);new CustomMarker({map:s,position:i,templateData:{title:r.title,itemId:r.itemId,address:r.location.address,featuredImage:r.featuredImage,itemUrl:r.itemUrl},termIcon:r.termIcon});this.initMarkerInfo()}},getDirectoryItemsAddresses:function(e){var t={geolocation:!1,mapHolder:"edgtf-listing-multiple-map-holder",addresses:edgtfMultipleMapVars.multiple.addresses,draggable:edgtfMapsVars.global.draggable,mapTypeControl:edgtfMapsVars.global.mapTypeControl,scrollwheel:edgtfMapsVars.global.scrollable,streetViewControl:edgtfMapsVars.global.streetViewControl,zoomControl:edgtfMapsVars.global.zoomControl,zoom:16,styles:edgtfMapsVars.global.mapStyle,radius:50,hasFilter:!1},r=f.extend({},t,e),a=document.getElementById(r.mapHolder),s=new google.maps.Map(a,{zoom:r.zoom,draggable:r.draggable,mapTypeControl:r.mapTypeControl,scrollwheel:r.scrollwheel,streetViewControl:r.streetViewControl,zoomControl:r.zoomControl});this.mapHolder=r.mapHolder,this.map=s,this.radius=r.radius,s.setOptions({styles:r.styles}),navigator.geolocation&&r.geolocation&&this.centerOnCurrentLocation();var i=[];if(void 0!==r.addresses){var n=r.addresses.length;if(null!==r.addresses.length)for(var o=0;o<n;o++){var l=r.addresses[o].location;null!=l&&""!==l.latitude&&""!==l.longitude&&i.push(r.addresses[o])}}this.setMapBounds(i),this.addMultipleMarkers(i)},addMultipleMarkers:function(e){for(var t=this.map,r=[],a=e.length,s=0;s<a;s++){var i={lat:parseFloat(e[s].location.latitude),lng:parseFloat(e[s].location.longitude)},n=new CustomMarker({position:i,map:t,templateData:{title:e[s].title,itemId:e[s].itemId,address:e[s].location.address,featuredImage:e[s].featuredImage,itemUrl:e[s].itemUrl,latLng:i},termIcon:e[s].termIcon});r.push(n)}this.markers=r,this.initMapClusters(),this.initMarkerInfo()},setMapBounds:function(e){for(var t=new google.maps.LatLngBounds,r=0;r<e.length;r++)t.extend(new google.maps.LatLng(parseFloat(e[r].location.latitude),parseFloat(e[r].location.longitude)));this.map.fitBounds(t)},initMapClusters:function(){new MarkerClusterer(this.map,this.markers,{minimumClusterSize:2,maxZoom:12,styles:[{width:50,height:60,url:"",textSize:12}]})},initMarkerInfo:function(){var g=this.map;f(document).off("click",".edgtf-map-marker").on("click",".edgtf-map-marker",function(e){var t=f(this),r=f(".edgtf-map-marker-holder"),a=f(".edgtf-info-window"),s=t.parent(".edgtf-map-marker-holder"),i=s.data("latlng"),n=t.siblings(".edgtf-info-window");if(s.hasClass("edgtf-active edgtf-map-active"))s.removeClass("edgtf-active edgtf-map-active"),n.fadeOut(0);else if(r.removeClass("edgtf-active edgtf-map-active"),a.fadeOut(0),s.addClass("edgtf-active edgtf-map-active"),n.fadeIn(300),i.length&&void 0!==i){var o=i.replace("(","").replace(")","").split(",",2),l=parseFloat(o[0]),d=parseFloat(o[1]);g.setCenter(new google.maps.LatLng(l,d))}})},centerOnCurrentLocation:function(s,f,u,c){var i=this.map;navigator.geolocation&&(s&&u.addClass("fa-spinner fa-spin"),navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,r=e.coords.longitude,l={lat:t,lng:r};if(s){var a=new google.maps.Geocoder,d="",g="";a.geocode({latLng:new google.maps.LatLng(t,r)},function(e,t){if(t===google.maps.GeocoderStatus.OK&&"object"==typeof e){for(var r=e,a=0;a<=r.length;a++){var s=r[a];if("object"==typeof s&&"locality"===s.types[0]){var i=s.address_components;d=i[0].long_name;for(var n=0;n<=i.length;n++)"object"==typeof i[n]&&"country"===i[n].types[0]&&(g=d+","+i[n].long_name)}}if("string"==typeof d&&(u.removeClass("fa-spinner fa-spin"),"string"==typeof g?f.val(g):f.val(d),c)){var o=[];o.push(d),o.push(l),o.push(!0),edgtf.modules.listingList.edgtfInitGeoLocationRangeSlider().showRangeSlider(l,!0),edgtf.modules.listingList.edgtfInitListingListPagination().getMainPagFunction(c,1,!0,o)}}})}else i.setCenter(l)}))},centerOnForwardLocation:function(e,t,r){var a=this.map;if("object"==typeof e){if(t){new CustomMarker({map:a,position:e,templateData:{title:"Your location is here",itemId:"edgtf-geo-location-marker",address:r,featuredImage:"",itemUrl:""}});s.edgtfGoogleMaps.initMarkerInfo()}a.setZoom(12),a.setCenter(e)}},centerOnForwardAddressLocation:function(e){"string"==typeof e&&"object"==typeof google&&(new google.maps.Geocoder).geocode({address:e},function(e,t){t===google.maps.GeocoderStatus.OK&&"object"==typeof e[0]&&s.edgtfGoogleMaps.centerOnForwardLocation(e[0].geometry.location)})},setGeoLocationRadius:function(e,t,r){var a=this.map,s=this.circle,i=this.markers;if("object"==typeof e&&"object"==typeof google){r&&s.setMap(null),this.circle=new google.maps.Circle({map:a,center:e,radius:1e3*parseInt(t,10),strokeWeight:0,fillColor:"#fc475f",fillOpacity:.15});var n=this.circle,o=[];f.each(i,function(e,t){n.getBounds().contains(t.latlng)&&o.push(t.templateData.itemId)}),edgtf.modules.listingList.edgtfInitGeoLocationRangeSlider().disableItemsOutOfRange(o)}},createAutocompletePlaces:function(r,a){if("object"==typeof google&&"object"==typeof google.maps.places){var s=new google.maps.places.Autocomplete(r,{types:["(cities)"]});s.addListener("place_changed",function(){if(f(r).next().show(),a){var e=s.getPlace();if(!e.geometry)return void window.alert("No details available for input: '"+e.name+"'");var t=[];t.push(e.address_components[0].short_name),t.push(e.geometry.location),t.push(!1),edgtf.modules.listingList.edgtfInitGeoLocationRangeSlider().reset(),edgtf.modules.listingList.edgtfInitListingListPagination().getMainPagFunction(a,1,!0,t)}})}}}}(jQuery),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),r=new google.maps.LatLngBounds,a=0;e=t[a];a++)r.extend(e.getPosition());this.map_.fitBounds(r)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var r=0,a=e.length,s=a;0!==s;)s=parseInt(s/10,10),r++;return{text:a,index:r=Math.min(r,t)}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){if(e.length)for(var r=0;a=e[r];r++)this.pushMarkerTo_(a);else if(Object.keys(e).length)for(var a in e)this.pushMarkerTo_(e[a]);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var r,a=0;r=this.markers_[a];a++)if(r==e){t=a;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!(t||!r)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var r,a=e===this.getMarkers()?e.slice():e,s=!1,i=0;r=a[i];i++){var n=this.removeMarker_(r);s=s||n}if(!t&&s)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),a=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),s=t.fromLatLngToDivPixel(r);s.x+=this.gridSize_,s.y-=this.gridSize_;var i=t.fromLatLngToDivPixel(a);i.x-=this.gridSize_,i.y+=this.gridSize_;var n=t.fromDivPixelToLatLng(s),o=t.fromDivPixelToLatLng(i);return e.extend(n),e.extend(o),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,r=0;t=this.clusters_[r];r++)t.remove();var a;for(r=0;a=this.markers_[r];r++)a.isAdded=!1,e&&a.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var r=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var e,t=0;e=r[t];t++)e.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var r=(t.lat()-e.lat())*Math.PI/180,a=(t.lng()-e.lng())*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,r=4e4,a=null,s=(e.getPosition(),0);t=this.clusters_[s];s++){var i=t.getCenter();if(i){var n=this.distanceBetweenPoints_(i,e.getPosition());n<r&&(r=n,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):((t=new Cluster(this)).addMarker(e),this.clusters_.push(t))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),r=this.getExtendedBounds(t),a=0;e=this.markers_[a];a++)!e.isAdded&&this.isMarkerInBounds_(e,r)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,r=0;t=this.markers_[r];r++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,r=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,a=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(r,a),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var s=this.markers_.length;if(s<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),s==this.minClusterSize_)for(var i=0;i<s;i++)this.markers_[i].setMap(null);return s>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers(),a=0;e=r[a];a++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&t<e)for(var r,a=0;r=this.markers_[a];a++)r.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var s=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,s);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(i),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e.map_,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.div_.className="edgtf-cluster-marker",this.visible_){var e=this.cluster_.markers_,t=[];if("object"==typeof e)for(var r=0;r<e.length;r++)t.push(e[r].templateData.itemId);this.div_.setAttribute("data-item-ids",t);var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.innerHTML='<div class="edgtf-cluster-marker-inner"><span class="edgtf-cluster-marker-number">'+this.sums_.text+'</span><svg class="edgtf-map-marker-pin" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="37.875px" height="50.75px" viewBox="0 0 37.875 50.75" enable-background="new 0 0 37.875 50.75" xml:space="preserve"><g><path fill="#EF4960" d="M0,18.938C0,29.396,17.746,50.75,18.938,50.75V0C8.479,0,0,8.479,0,18.938z"/><path fill="#DC4458" d="M37.875,18.938C37.875,8.479,29.396,0,18.938,0v50.75C20.129,50.75,37.875,29.396,37.875,18.938z"/></g><circle fill="#FFFFFF" cx="18.938" cy="19.188" r="14.813"/></svg></div>'}this.getPanes().overlayMouseTarget.appendChild(this.div_);var s=this;google.maps.event.addDomListener(this.div_,"click",function(){s.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var r=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+r+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&0<this.anchor_[1]&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var a=this.textColor_?this.textColor_:"black",s=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+a+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")};var window=window||{};(window.MarkerClusterer=MarkerClusterer).prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},"object"==typeof module&&(module.exports=MarkerClusterer),function(t){"use strict";var e={};function r(){var e;(e=t(".edgtf-register-content-inner select")).length&&e.each(function(){var e=t(this);e.select2({minimumResultsForSearch:1/0})})}(edgtf.modules.roles=e).edgtfOnDocumentReady=r,t(document).ready(r)}(jQuery),function(n){"use strict";var e={};function t(){var e;(e=n(".edgtf-wishlist-holder .edgtf-wishlist-link")).length&&e.each(function(){var a=n(this),s=a.html(),i=a.siblings(".edgtf-wishlist-response");a.off().on("click",function(e){if(e.preventDefault(),edgtf.body.hasClass("logged-in")){var r=a.data("id");"undefined"===r||a.hasClass("edgtf-added")||(a.html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>'),n.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:{action:"urbango_listing_wishlist_ajax_functionality",wishlistData:{type:"add",itemID:r}},success:function(e){var t=JSON.parse(e);"success"===t.status?(a.addClass("edgtf-added"),i.html(t.message).addClass("edgtf-show").fadeIn(200),n(document).trigger("urbango_listing_wishlist_item_is_added",[r])):i.html(t.message).addClass("edgtf-show").fadeIn(200),setTimeout(function(){a.html(s);var e=a.find(".edgtf-wishlist-title");e.length&&e.text(e.data("added-title")),i.fadeOut(300).removeClass("edgtf-show").empty()},800)}}))}else n(document.body).trigger("open_user_login_trigger")})})}(edgtf.modules.wishlist=e).edgtfOnDocumentReady=t,n(document).ready(t),n(document).on("urbango_listing_wishlist_item_is_removed",function(e,r){var t=n(".edgtf-wishlist-holder .edgtf-wishlist-link");t.length&&t.each(function(){var e=n(this),t=e.find(".edgtf-wishlist-title");e.data("id")===r&&e.hasClass("edgtf-added")&&(e.removeClass("edgtf-added"),t.length&&t.text(t.data("title")))})})}(jQuery),function(n){"use strict";var e={};function t(){!function(){var e=n(".edgtf-claim-opener"),a=n(".edgtf-claim-form-holder");if(e.length){if(a.length){var s=a.find(".edgtf-claim-form"),t=a.find(".edgtf-claim-close"),i=a.find(".edgtf-claim-form-response");t.on("click",function(e){e.preventDefault(),a.fadeOut(300).removeClass("edgtf-opened")}),n(window).on("keyup",function(e){a.hasClass("edgtf-opened")&&27===e.keyCode&&a.fadeOut(300).removeClass("edgtf-opened")}),s.on("submit",function(e){if(e.preventDefault(),edgtf.body.hasClass("logged-in")){i.empty().html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var t={message:s.find("#edgtf-claim-message").val(),itemID:s.data("id"),userID:s.find("#edgtf-claim-user-id").val(),nonce:s.find("#urbango_listing_nonce_listing_item_claim_form").val()},r={action:"urbango_listing_send_listing_item_claim",claimData:t};n.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:r,success:function(e){var t=JSON.parse(e);"success"===t.status?(i.html(t.message),setTimeout(function(){a.fadeOut(300).removeClass("edgtf-opened")},800)):i.html(t.message)}})}else n(document.body).trigger("open_user_login_trigger")})}e.each(function(){var e=n(this),t=e.data("id");e.off().on("click",function(e){e.preventDefault(),edgtf.body.hasClass("logged-in")?(a.fadeIn(300).addClass("edgtf-opened"),s.data("id",t).find("#edgtf-claim-message").val(""),i.empty()):n(document.body).trigger("open_user_login_trigger")})})}}()}(edgtf.modules.claim=e).edgtfOnDocumentReady=t,n(document).ready(t)}(jQuery),function(n){"use strict";var e={};function t(){var e;(e=n(".edgtf-listing-item-delete")).length&&e.each(function(){var e=n(this),a=e.data("listing-id"),s=e.data("confirm-text"),i=e.parents(".edgtf-lp-listing-item");e.on("click",function(e){e.preventDefault();var t=confirm(s);if(t){var r={action:"urbango_listing_delete_listing",listing_id:a};n.ajax({type:"POST",data:r,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status&&i.fadeOut(function(){i.remove()})}})}})})}(edgtf.modules.listing=e).edgtfOnDocumentReady=t,n(document).ready(t)}(jQuery),function(d){"use strict";var e={};function t(){var e;!function(){var e=d(".edgtf-report-opener"),a=d(".edgtf-report-form-holder");if(e.length){if(a.length){var s=a.find(".edgtf-report-form"),t=a.find(".edgtf-report-close"),i=a.find(".edgtf-report-form-response");t.on("click",function(e){e.preventDefault(),a.fadeOut(300).removeClass("edgtf-opened")}),d(window).on("keyup",function(e){a.hasClass("edgtf-opened")&&27===e.keyCode&&a.fadeOut(300).removeClass("edgtf-opened")}),s.on("submit",function(e){if(e.preventDefault(),edgtf.body.hasClass("logged-in")){i.empty().html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var t={message:s.find("#edgtf-report-message").val(),itemID:s.data("id"),userID:s.find("#edgtf-report-user-id").val(),nonce:s.find("#urbango_listing_nonce_listing_item_report_form").val()},r={action:"urbango_listing_send_listing_item_report",reportData:t};d.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:r,success:function(e){var t=JSON.parse(e);"success"===t.status?(i.html(t.message),setTimeout(function(){a.fadeOut(300).removeClass("edgtf-opened")},800)):i.html(t.message)}})}else d(document.body).trigger("open_user_login_trigger")})}e.each(function(){var e=d(this),t=e.data("id");e.off().on("click",function(e){e.preventDefault(),edgtf.body.hasClass("logged-in")?(a.fadeIn(300).addClass("edgtf-opened"),s.data("id",t).find("#edgtf-report-message").val(""),i.empty()):d(document.body).trigger("open_user_login_trigger")})})}}(),(e=d(".edgtf-listing-item-resubmit")).length&&e.each(function(){var a=d(this),s=a.data("listing-id"),i=a.parents(".edgtf-lp-reported-item"),n=i.find(".edgtf-resubmit-message"),o=i.find(".edgtf-lp-ri-response"),l=a.data("confirm-text");a.on("click",function(e){e.preventDefault();var t=confirm(l);if(t){a.parent().append('<span class="edgtf-resubmit-spinner fa fa-spinner fa-spin" aria-hidden="true"></span>');var r={action:"urbango_listing_resubmit_reported_item",reportData:{itemID:s,message:n.val(),nonce:i.find("#urbango_listing_nonce_resubmit_reported_item").val()}};d.ajax({type:"POST",data:r,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t=JSON.parse(e);o.html(t.message),a.parent().find(".edgtf-resubmit-spinner").remove(),n.val(""),setTimeout(function(){o.empty()},3e3)}})}})})}(edgtf.modules.report=e).edgtfOnDocumentReady=t,d(document).ready(t)}(jQuery),function(a){"use strict";var e={};function t(){!function(){var e=a(".edgtf-listing-profile-searches");if(e.length){var t=e.find(".edgtf-undo-query-save");t.on("click",function(e){e.preventDefault();var r=a(this);if(confirm("Are you sure you want to remove this search?")){r.html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var t={action:"urbango_listing_set_listing_list_ajax_remove_query",query_id:r.data("query-id")};a.ajax({type:"POST",data:t,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status?r.parents(".edgtf-lp-ss-content-row").remove():r.html('<i class="fa fa-times" aria-hidden="true"></i>')}})}})}}()}(edgtf.modules.listingProfile=e).edgtfOnDocumentReady=t,a(document).ready(t)}(jQuery),function(l){"use strict";var e={};function t(){i()}function i(){var e=l(".edgtf-wishlist-dropdown-holder");e.length&&e.each(function(){var n=l(this),e=n.find(".edgtf-wd-link"),o=e.find(".edgtf-wd-number-of-items"),t=n.find(".edgtf-wd-items").find(".edgtf-wd-remove-item");e.on("click",function(e){e.preventDefault()}),t.off().on("click",function(e){e.preventDefault();var a=l(this),s=a.html(),i=a.data("id");a.html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>'),l.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:{action:"urbango_listing_wishlist_ajax_functionality",wishlistData:{type:"remove",itemID:i}},success:function(e){var t=JSON.parse(e);if("success"===t.status){var r=parseInt(t.data.count,10);o.html(r),0===r&&n.removeClass("edgtf-wd-has-items").addClass("edgtf-wd-no-items"),a.closest(".edgtf-wd-item").fadeOut(200).remove(),l(document).trigger("urbango_listing_wishlist_item_is_removed",[i])}else a.html(s)}})})})}(edgtf.modules.wishlist=e).edgtfOnDocumentReady=t,l(document).ready(t),l(document).on("urbango_listing_wishlist_item_is_added",function(e,t){var r=l(".edgtf-wishlist-dropdown-holder");r.length&&r.each(function(){var r=l(this),a=r.find(".edgtf-wd-link").find(".edgtf-wd-number-of-items"),s=r.find(".edgtf-wd-items");l.ajax({type:"POST",url:edgtfGlobalVars.vars.edgtfAjaxUrl,data:{action:"urbango_listing_update_wishlist_dropdown_widget",wishlistData:{itemID:t}},success:function(e){var t=JSON.parse(e);"success"===t.status&&(a.html(parseInt(t.data.count,10)),r.hasClass("edgtf-wd-no-items")&&r.removeClass("edgtf-wd-no-items").addClass("edgtf-wd-has-items"),s.append(t.data.new_html))},complete:function(){i()}})})})}(jQuery),function(a){"use strict";var e={};function t(){var e;(e=a(".edgtf-category-tabs-holder")).length&&edgtf.windowWidth<=680&&e.each(function(){var e=a(this),t=e.children(),r=e.find(".edgtf-ct-item").length;5<r&&(e.addClass("edgtf-slider-init"),t.addClass("edgtf-owl-slider").owlCarousel({items:3,loop:!0,autoplay:!0,autoplayTimeout:4e3,smartSpeed:800,dots:!1,nav:!1,onInitialize:function(){e.addClass("edgtf-slider-loaded")}}))})}(edgtf.modules.categoryTabs=e).edgtfOnDocumentReady=t,a(document).ready(t)}(jQuery),function(I){"use strict";var e={};function t(){var e;S().init(),(e=I(".edgtf-listing-list-holder.edgtf-ll-with-map .edgtf-map-switcher")).length&&e.each(function(){var e=I(this),t=e.parents(".edgtf-listing-list-holder"),r=e.children(".edgtf-map-switcher-full-map"),a=e.children(".edgtf-map-switcher-full-list"),s=e.children(".edgtf-map-switcher-reset");r.on("click",function(e){e.preventDefault(),r.hide(),a.show(),s.show(),t.removeClass("edgtf-switch-full-list").addClass("edgtf-switch-full-map"),edgtf.modules.common.edgtfDisableScroll()}),a.on("click",function(e){e.preventDefault(),r.show(),a.hide(),s.show(),t.removeClass("edgtf-switch-full-map").addClass("edgtf-switch-full-list"),edgtf.modules.common.edgtfEnableScroll()}),s.on("click",function(e){e.preventDefault(),r.show(),a.show(),s.hide(),t.removeClass("edgtf-switch-full-map edgtf-switch-full-list"),edgtf.modules.common.edgtfEnableScroll()})})}function r(){var e;(e=I(".edgtf-ll-filter-holder")).length&&e.each(function(){var e=I(this),a=e.parents(".edgtf-listing-list-holder"),t=a.data("item-layout"),s=a.data("number-of-columns"),r=e.find(".edgtf-ll-filter-search"),i=e.find(".edgtf-ll-filter-save"),n=e.find(".edgtf-ll-filter-reset"),o=e.find(".edgtf-filter-query-results"),l=e.find(".edgtf-fs-inner.edgtf-fs-is-select2"),d=l.length,g=e.find(".edgtf-fs-inner.edgtf-fs-is-checkbox"),f=g.length,u=e.find(".edgtf-fs-inner.edgtf-fs-is-text"),c=u.length,p=e.find(".edgtf-filter-section-switch-layout"),h=p.length,m=e.find(".edgtf-fs-inner.edgtf-fs-is-places"),v=m.length;if(d&&l.each(function(){var a,s,e,t=I(this);s=(a=t).data("type"),(e=a.find("select")).length&&e.select2().on("select2:select",function(e){var t=I(e.currentTarget),r=t.val();a.data(s,r)})}),r.on("click",function(e){e.preventDefault(),d&&l.each(function(){var e=I(this),t=e.data("type");a.data(t,e.data(t))}),f&&g.each(function(){var e=I(this),t=[];e.find('input[type="checkbox"]:checked').each(function(){t.push(parseInt(I(this).data("id")))}),t.length&&(t=t.join(",")),a.data(e.data("type"),t)}),c&&u.each(function(){var e=I(this),t=e.find('input[type="text"]').val();a.data(e.data("type"),t)}),v&&m.each(function(){var e=I(this),t=e.find('input[type="text"]').val();a.data(e.data("type"),t)}),L().getMainPagFunction(a,1,!0),n.addClass("edgtf-ll-filter-is-searched")}),i.on("click",function(e){if(e.preventDefault(),edgtf.body.hasClass("logged-in")){o.html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var r={action:"urbango_listing_set_listing_list_ajax_save_query"};d&&l.each(function(){var e=I(this),t=e.data("type");r[t]=e.data(t)}),f&&g.each(function(){var e=I(this),t=[];e.find('input[type="checkbox"]:checked').each(function(){t.push(parseInt(I(this).data("id")))}),t.length&&(t=t.join(","),r[e.data("type")]=t)}),c&&u.each(function(){var e=I(this);r[e.data("type")]=e.find('input[type="text"]').val()}),v&&m.each(function(){var e=I(this);r[e.data("type")]=e.find('input[type="text"]').val()}),I.ajax({type:"POST",data:r,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t,r,a,s=JSON.parse(e);o.html('<span class="edgtf-filter-result-message">'+s.message+"</span>"),o.append(s.data),t=o.parent(),r=t.find(".edgtf-undo-query-save"),a=t.find(".edgtf-filter-query-results"),r.on("click",function(){a.html('<span class="fa fa-spinner fa-spin" aria-hidden="true"></span>');var e={action:"urbango_listing_set_listing_list_ajax_remove_query",query_id:r.data("query-id")};I.ajax({type:"POST",data:e,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t=JSON.parse(e);a.html('<span class="edgtf-filter-result-message">'+t.message+"</span>").append(t.data)}})})}})}else I(document.body).trigger("open_user_login_trigger")}),n.on("click",function(e){e.preventDefault(),d&&l.each(function(){var e,t,r,a=I(this),s=a.data("type");t=s,r=(e=a).data("default-"+s),e.find("select").val(r).trigger("change"),e.data(t,r)}),f&&g.each(function(){I(this).find('input[type="checkbox"]').each(function(){I(this).prop("checked",!1)})}),c&&u.each(function(){I(this).find('input[type="text"]').val("")}),v&&m.each(function(){I(this).find('input[type="text"]').val("")}),O(!0),n.hasClass("edgtf-ll-filter-is-searched")&&(n.removeClass("edgtf-ll-filter-is-searched"),r.trigger("click"))}),h){var y=p.find(".edgtf-fs-sl-standard"),_=p.find(".edgtf-fs-sl-simple");-1!==t.indexOf("standard")?y.addClass("edgtf-active"):-1!==t.indexOf("simple")&&_.addClass("edgtf-active"),y.on("click",function(e){e.preventDefault();var t=a.data("item-layout"),r=a.data("number-of-columns");"standard"!==t&&(y.addClass("edgtf-active"),_.removeClass("edgtf-active"),a.data("item-layout","standard"),a.data("number-of-columns",s),a.removeClass("edgtf-ll-layout-"+t+" edgtf-"+r+"-columns").addClass("edgtf-ll-layout-standard edgtf-"+s+"-columns"))}),_.on("click",function(e){e.preventDefault();var t=a.data("item-layout"),r=a.data("number-of-columns");"simple"!==t&&(_.addClass("edgtf-active"),y.removeClass("edgtf-active"),a.data("item-layout","simple"),a.data("number-of-columns","1"),a.removeClass("edgtf-ll-layout-"+t+" edgtf-"+r+"-columns").addClass("edgtf-ll-layout-simple edgtf-one-columns"))})}if(v){var C=m.find('input[type="text"]'),M=C.val(),k=document.getElementById("edgtf-fs-places-location"),w=m.find(".edgtf-fs-places-reset"),x=m.find(".edgtf-fs-places-geo"),b=x.children(".edgtf-fs-places-icon");C.length&&edgtf.modules.listingMaps.edgtfGoogleMaps.createAutocompletePlaces(k,a),M.length&&a.hasClass("edgtf-ll-with-map")&&(w.show(),edgtf.modules.listingMaps.edgtfGoogleMaps.centerOnForwardAddressLocation(M)),w.on("click",function(e){e.preventDefault(),C.val(""),w.hide(),S().reset()}),x.on("click",function(e){e.preventDefault(),"object"==typeof google&&"object"==typeof navigator&&(w.show(),edgtf.modules.listingMaps.edgtfGoogleMaps.centerOnCurrentLocation(!0,C,b,a))})}}),O(),L().init(),l()}function a(){L().scroll()}function S(){var n=I(".edgtf-listing-list-holder.edgtf-ll-with-map.edgtf-ll-with-filter"),s=function(r,e){var a=0;e.noUiSlider.on("set",function(e){var t=r.data("geo-location");"object"==typeof t&&(edgtf.modules.listingMaps.edgtfGoogleMaps.setGeoLocationRadius(t,e,0<a),a++)})},a=function(e,t,r){e.data("geo-location",t),r?e.show():e.hide()};return{init:function(){if(n.length){var e=n.find(".edgtf-fs-places-geo-radius");if(e.length){var t=document.getElementById("edgtf-range-slider-id");r=e,a=t,noUiSlider.create(a,{connect:[!0,!1],start:0,tooltips:!0,format:{from:function(e){return parseFloat(e).toFixed(2)},to:function(e){return parseFloat(e).toFixed(2)}},range:{min:0,max:50}}),s(r,a)}}var r,a},reset:function(){if(n.length){var e=n.find(".edgtf-fs-places-geo-radius");if(e.length&&e.is(":visible")){var t=document.getElementById("edgtf-range-slider-id");a(e,"",!1),t.noUiSlider.reset()}}},showRangeSlider:function(e,t){if(n.length){var r=n.find(".edgtf-fs-places-geo-radius");r.length&&a(r,e,t)}},disableItemsOutOfRange:function(e){n.length&&"object"==typeof e&&function(t){var e=n.find(".edgtf-ll-inner article");if(e.length&&0<t.length){n.children(".edgtf-ll-out-of-range-holder").length||n.append('<div class="edgtf-ll-out-of-range-holder"></div>');var s=n.children(".edgtf-ll-out-of-range-holder"),r=s.children("article"),i=n.find(".edgtf-ll-inner");e.each(function(){var e=I(this),r=e.data("id");if(void 0!==r&&!1!==r){var a=!1;I.each(t,function(e,t){if(parseInt(r,10)===t)return a=!0}),a||(e.appendTo(s),n.hasClass("edgtf-ll-masonry")&&i.isotope("layout"))}}),r.length&&r.each(function(){var e=I(this),r=e.data("id"),a=!1;I.each(t,function(e,t){if(parseInt(r,10)===t)return a=!0}),a&&(e.appendTo(i),n.hasClass("edgtf-ll-masonry")&&i.isotope("layout"))})}}(e)}}}function O(n){var e=I(".edgtf-ll-filter-holder");e.length&&e.each(function(){var e=I(this),t=e.find(".edgtf-filter-section.edgtf-filter-section-category"),r=e.find(".edgtf-filter-section.edgtf-filter-section-tag");if(t.length&&r.length){var a=t.find("select"),s=r.find(".edgtf-fs-cb-items"),i=s.children();24<i.length&&s.addClass("edgtf-all"),n&&i.removeClass("edgtf-hide edgtf-show"),a.select2().on("select2:select",function(e){var r=I(e.currentTarget).val();s.removeClass("edgtf-all").addClass("edgtf-loading").append('<span class="edgtf-loading-spinner fa fa-spinner fa-spin" aria-hidden="true"></span>');var t={action:"urbango_listing_init_listing_list_relation_terms_switcher",data:0<r.length?r:"-1"};I.ajax({type:"POST",data:t,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){var t=JSON.parse(e).data;i.each(function(){var r=I(this),a=r.find('input[type="checkbox"]');r.addClass("edgtf-hide"),I.each(t,function(e,t){a.data("id")===parseInt(e,10)&&r.removeClass("edgtf-hide").addClass("edgtf-show")})}),r.length<=0&&24<i.length&&s.addClass("edgtf-all"),s.removeClass("edgtf-loading").find(".edgtf-loading-spinner").remove()}})})}})}function L(){var e=I(".edgtf-listing-list-holder"),s=function(e){var t=e.outerHeight()+e.offset().top-edgtfGlobalVars.vars.edgtfAddForAdminBar;!e.hasClass("edgtf-ll-infinite-scroll-started")&&edgtf.scroll+edgtf.windowHeight>t&&i(e)},i=function(i,n,e,o){var l,d,g=i.find(".edgtf-ll-inner");if("object"==typeof o){var t=i.data("location");if(void 0!==t&&-1<t.indexOf(o[0]))return;i.data("location",o[0])}void 0!==i.data("max-num-pages")&&!1!==i.data("max-num-pages")&&(d=i.data("max-num-pages")),i.hasClass("edgtf-ll-pag-standard")&&i.data("next-page",n),i.hasClass("edgtf-ll-pag-infinite-scroll")&&i.addClass("edgtf-ll-infinite-scroll-started"),1===n&&i.data("next-page",n);var r=edgtf.modules.common.getLoadMoreData(i),f=i.find(".edgtf-ll-loading");if((l=r.nextPage)<=d||0===d){e&&1===l?(f.css("top",i.find(".edgtf-ll-filter-holder").outerHeight()+60).addClass("edgtf-showing edgtf-fade-trigger"),i.addClass("edgtf-fade-trigger-animate")):i.hasClass("edgtf-ll-pag-standard")?(f.addClass("edgtf-showing edgtf-fade-trigger"),i.addClass("edgtf-fade-trigger-animate")):(f.addClass("edgtf-showing"),i.find(".edgtf-ll-load-more-holder").hide());var a=edgtf.modules.common.setLoadMoreAjaxData(r,"urbango_listing_init_listing_list_ajax_load_more");I.ajax({type:"POST",data:a,url:edgtfGlobalVars.vars.edgtfAjaxUrl,success:function(e){i.hasClass("edgtf-ll-pag-standard")||l++,i.data("next-page",l);var t=I.parseJSON(e),r=t.html,a=t.mapAddresses,s="";null!==a&&void 0!==a.addresses&&(s=a.addresses),i.hasClass("edgtf-ll-pag-standard")||1===n?(u(i,d,l),i.waitForImages(function(){i.hasClass("edgtf-ll-masonry")?c(i,g,f,r,s,o):i.hasClass("edgtf-ll-gallery")&&i.hasClass("edgtf-ll-has-filter")?c(i,g,f,r,s,o):p(i,g,f,r,s,o)})):i.waitForImages(function(){i.hasClass("edgtf-ll-masonry")?1===n?c(i,g,f,r,s,o):h(i,g,f,r,s,o):i.hasClass("edgtf-ll-gallery")&&i.hasClass("edgtf-ll-has-filter")&&1!==n?h(i,g,f,r,s,o):m(i,g,f,r,s,o)}),i.hasClass("edgtf-ll-infinite-scroll-started")&&i.removeClass("edgtf-ll-infinite-scroll-started"),t.postsCount<1||t.postsCount<i.data("number-of-items")?i.find(".edgtf-ll-load-more-holder").hide():i.find(".edgtf-ll-load-more-holder").show()}})}1===n&&i.find(".edgtf-ll-load-more-holder").show(),l===d&&i.find(".edgtf-ll-load-more-holder").hide()},u=function(e,t,r){var a=e.find(".edgtf-ll-standard-pagination"),s=a.find("li.edgtf-ll-pag-number"),i=a.find("li.edgtf-ll-pag-prev a"),n=a.find("li.edgtf-ll-pag-next a");s.removeClass("edgtf-ll-pag-active"),s.eq(r-1).addClass("edgtf-ll-pag-active"),i.data("paged",r-1),n.data("paged",r+1),1<r?i.css({opacity:"1"}):i.css({opacity:"0"}),r===t?n.css({opacity:"0"}):n.css({opacity:"1"})},c=function(e,t,r,a,s,i){t.find("article").remove(),t.append(a),edgtf.modules.common.setFixedImageProportionSize(e,e.find("article"),t.find(".edgtf-ll-grid-sizer").width()),t.isotope("reloadItems").isotope({sortBy:"original-order"}),n(e,t),o(e,s,i,"append"),r.removeClass("edgtf-showing edgtf-fade-trigger"),e.removeClass("edgtf-fade-trigger-animate"),setTimeout(function(){t.isotope("layout"),edgtf.modules.common.edgtfInitParallax(),l()},600)},p=function(e,t,r,a,s,i){r.removeClass("edgtf-showing edgtf-fade-trigger"),e.removeClass("edgtf-fade-trigger-animate"),t.html(a),n(e,t),o(e,s,i,"replace"),edgtf.modules.common.edgtfInitParallax(),l()},h=function(e,t,r,a,s,i){t.append(a),edgtf.modules.common.setFixedImageProportionSize(e,e.find("article"),t.find(".edgtf-ll-grid-sizer").width()),t.isotope("reloadItems").isotope({sortBy:"original-order"}),n(e,t),o(e,s,i,"append"),r.removeClass("edgtf-showing"),setTimeout(function(){t.isotope("layout"),edgtf.modules.common.edgtfInitParallax(),l()},600)},m=function(e,t,r,a,s,i){r.removeClass("edgtf-showing"),t.append(a),n(e,t),o(e,s,i,"append"),edgtf.modules.common.edgtfInitParallax(),l()},n=function(e,t){if(e.hasClass("edgtf-ll-with-filter")){var r=e.find(".edgtf-filter-section-switch-layout .edgtf-fs-sl-count");if(r.length){var a=parseInt(t.find("article").length,10);r.html(a)}}},o=function(e,t,r,a){e.hasClass("edgtf-ll-with-map")&&(""!==t&&edgtf.modules.listingMaps.edgtfReinitMultipleGoogleMaps(t,a),"object"==typeof r&&edgtf.modules.listingMaps.edgtfGoogleMaps.centerOnForwardLocation(r[1],r[2],r[0]))};return{init:function(){e.length&&e.each(function(){var a,e,t,r=I(this);r.hasClass("edgtf-ll-pag-standard")&&(e=(a=r).find(".edgtf-ll-standard-pagination li")).length&&e.each(function(){var t=I(this).children("a"),r=1;t.on("click",function(e){e.preventDefault(),e.stopPropagation(),void 0!==t.data("paged")&&!1!==t.data("paged")&&(r=t.data("paged")),i(a,r)})}),r.hasClass("edgtf-ll-pag-load-more")&&(t=r).find(".edgtf-ll-load-more a").on("click",function(e){e.preventDefault(),e.stopPropagation(),i(t)}),r.hasClass("edgtf-ll-pag-infinite-scroll")&&s(r)})},scroll:function(){e.length&&e.each(function(){var e=I(this);e.hasClass("edgtf-ll-pag-infinite-scroll")&&s(e)})},getMainPagFunction:function(e,t,r,a){i(e,t,r,a)}}}function l(){I(".edgtf-listing-list-holder").length&&edgtf.modules.common.edgtfToggleHoverClasses(".edgtf-listing-list-holder","article",".edgtf-lli-image")}(edgtf.modules.listingList=e).edgtfInitGeoLocationRangeSlider=S,e.edgtfInitListingListPagination=L,e.edgtfOnDocumentReady=t,e.edgtfOnWindowLoad=r,e.edgtfOnWindowScroll=a,I(document).ready(t),I(window).load(r),I(window).scroll(a)}(jQuery),function(o){"use strict";var e={};function t(){var e;(e=o(".edgtf-listing-search-holder")).length&&e.each(function(){var e=o(this),t=e.find(".edgtf-ls-form-section select"),r=e.find('.edgtf-ls-form-location input[type="text"]'),a=document.getElementById("edgtf-ls-form-location-id"),s=e.find(".edgtf-ls-places-reset"),i=e.find(".edgtf-ls-places-geo"),n=i.children(".edgtf-ls-places-icon");t.length&&t.each(function(){var e=o(this);e.hasClass("edgtf-select-options-with-icons")?e.select2({templateResult:l}):e.select2()}),r.length&&edgtf.modules.listingMaps.edgtfGoogleMaps.createAutocompletePlaces(a),s.on("click",function(e){e.preventDefault(),r.val(""),s.hide()}),i.on("click",function(e){e.preventDefault(),"object"==typeof google&&"object"==typeof navigator&&(s.show(),edgtf.modules.listingMaps.edgtfGoogleMaps.centerOnCurrentLocation(!0,r,n))})})}function l(e){if(!e.id)return e.text;var t=e.element;if("undefined"===o(t).data("custom-image")||!1===o(t).data("custom-image")||""===o(t).data("custom-image"))return e.text;var r="all"===e.text?"":e.text;return o('<span class="edgtf-select2-with-image"><img src="'+o(t).data("custom-image")+'" alt="'+o(t).data("custom-image-alt")+'"/>'+r+"</span>")}(edgtf.modules.listingSearch=e).edgtfOnDocumentReady=t,o(document).ready(t)}(jQuery),function(r){"use strict";var e={};function t(){var e;(e=r(".edgtf-ls-open-table")).length&&e.each(function(){var e=r(this),t=e.find("select");t.length&&t.each(function(){r(this).select2()})})}(edgtf.modules.edgtfOT=e).edgtfOnDocumentReady=t,r(document).ready(t)}(jQuery);